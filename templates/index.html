<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class Schedule Generator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <h1>üóìÔ∏è Class Schedule Generator</h1>

        <div class="course-selection">
            <h2>Select Course Sections</h2>
            <input type="text" id="courseSearch" class="search-box" placeholder="Search courses or instructors...">
            <div class="selected-count">Selected: <span id="selectedCount">0</span> sections</div>

            <!-- Top pagination info and results counter -->
            <div class="pagination-info">
                <div class="results-counter" id="resultsCounter">Loading sections...</div>
                <div class="page-controls">
                    <button class="btn btn-secondary" id="prevPageBtn" disabled>‚Üê Previous</button>
                    <span id="pageInfo" class="page-info">Page 1 of 1</span>
                    <button class="btn btn-secondary" id="nextPageBtn">Next ‚Üí</button>
                </div>
            </div>

            <div class="section-grid" id="sectionGrid">
                <!-- Sections will be populated dynamically -->
                {% for section in sections %}
                <div class="section-item" data-section="{{ section.section_id }}" style="display: none;">
                    <div class="section-header">
                        <h3>{{ section.course_name }}</h3>
                        <span class="section-code">{{ section.ums_class_no }}</span>
                    </div>
                    <div class="section-details">
                        <p class="instructor">{{ section.teacher }}</p>
                        <p class="schedule">{{ section.sessions }}</p>
                        <p class="program">{{ section.program }}</p>
                        <p class="campus">{{ section.campus }} Campus</p>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- Bottom pagination controls -->
            <div class="pagination-info pagination-bottom">
                <div class="results-counter" id="resultsCounterBottom">Loading sections...</div>
                <div class="page-controls">
                    <button class="btn btn-secondary" id="prevPageBtnBottom" disabled>‚Üê Previous</button>
                    <span id="pageInfoBottom" class="page-info">Page 1 of 1</span>
                    <button class="btn btn-secondary" id="nextPageBtnBottom">Next ‚Üí</button>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn" id="generateBtn" disabled>Generate Schedules</button>
            <button class="btn btn-clear" id="clearBtn">Clear Selection</button>
        </div>

        <div class="loading" id="loading">
            <p>‚è≥ Generating schedules...</p>
        </div>

        <div class="error" id="error"></div>

        <div class="results" id="results">
            <h2>Generated Schedules</h2>
            <div class="schedule-nav">
                <div>
                    <button class="btn" id="prevBtn" disabled>‚Üê Previous</button>
                    <button class="btn" id="nextBtn">Next ‚Üí</button>
                </div>
                <div>
                    Schedule <span id="currentSchedule">1</span> of <span id="totalSchedules">0</span>
                </div>
            </div>

            <div id="scheduleContainer"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
</body>

</html>